!function(){var a=function(a){if(!a)return 0;var c=a.match(/[^\x00-\xff]/g);return a.length+(c?c.length:0)},c=function(c){return c=c.replace(/\r\n/g,"\n"),Math.ceil(a(c)/2)},g=function(a,g,h){function v(){var g=2*c(a.value);return Math.floor(.5*g)}g=2*g,a=a.get(0);var f=h?function(){h(v())}:function(){var s=a.value,c=s.length;if(!(g/2>=c)){for(var l=0,i=0;g>l&&c>i;)l+=1,s.charAt(i).match(/[^\x00-\x80]/)&&(l+=1),i+=1;g>l||(l>g&&(i-=1),a.value=s.substring(0,i))}};return f(v()),a.oninput=f,a.onfocus=f,a.onpropertychange=f,f};$.getLength=c,$.limitInput=g}();