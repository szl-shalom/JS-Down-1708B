function Boxy(t,e){this.WRAPPER='<div class="moco-modal-overlay" ><div class="moco-modal-layer" >                    <div class="moco-modal-title"></div>                    <div class="moco-modal-inner"></div>            </div></div>',this.DEFAULTS={title:null,closeable:!0,draggable:!0,clone:!1,actuator:null,center:!0,show:!0,modal:!1,fixed:!0,unloadOnHide:!1,clickToFront:!1,behaviours:function(){},afterDrop:function(){},afterShow:function(){},afterHide:function(){},beforeUnload:function(){}},this.DEFAULT_X=50,this.DEFAULT_Y=50,this.overlay=$(this.WRAPPER),this.boxy=this.overlay.find(".moco-modal-layer"),$.data(this.overlay[0],"boxy",this),this.visible=!1,this.options=$.extend({},this.DEFAULTS,e||{}),this.options.modal&&(this.options=$.extend(this.options,{center:!0,draggable:!1})),this.options.actuator&&$.data(this.options.actuator,"active.boxy",this),this.setContent(t||"<div></div>"),this._setupTitleBar(),this.overlay.appendTo(document.body),this.toTop(),this.options.center&&Boxy._u(this.options.x,this.options.y)?this.center():this.moveTo(Boxy._u(this.options.x)?this.options.x:this.DEFAULT_X,Boxy._u(this.options.y)?this.options.y:this.DEFAULT_Y),this.options.show&&this.show()}!function(){var t=window.moco||(window.moco={}),e={},d=null,o=null,u=null,c={},i={init:function(t){this.judgeType(t)},judgeType:function(t){"pop"===t.type?this.popAdvertising(t):this.createAndInsert(t)},createAndInsert:function(t){var o=t.rootElementSelector;d=this.createAdv(t,e[o]),e[o].appendChild(d),n.bind(t),setTimeout(function(){c[t.rootElementSelector].show()},100)},createAdv:function(t){var e=document.createElement("div"),d=document.createElement("img");return o="",d.src=t.image,t.alt&&(d.alt=t.alt),t.closebtn&&(o=document.createElement("div"),o.className="close-adv imv2-close_c",e.appendChild(o)),e.appendChild(d),e},popAdvertising:function(t){var e=s();document.head.appendChild(e),u=$.dialog(this.getPopDom(t),{title:" ",modal:!0,width:480,height:640,callback:function(){document.head.removeChild(e)}}),o=document.getElementById("js-advpop-close"),d=document.getElementById("imgWrap"),n.bind(t)},getPopDom:function(t){return'<div id="MOCO_POP_ADVERTISING"><i class="imv2-close_c" id="js-advpop-close"></i><div id="imgWrap"><img src="'+t.image+'" alt="'+t.alt+'"/></div></div>'}},a={bind:function(t){("pop"==t.type||t.closebtn)&&o.addEventListener("click",function(e){e.stopPropagation(),t.nextShowTimeAfterClose&&l.set("adv_"+t.rootElementSelector,(new Date).getTime(),t.nextShowTimeAfterClose),c[t.rootElementSelector].close()}),t.link&&d.addEventListener("click",function(e){a.uploadClick(t.advid,t.link)})},uploadClick:function(){var t,e=arguments[0],d=arguments[1],o=location.hostname.split(".")[0];t=/(coding|order)/.test(o)?"/index/ajaxadvclickcount":/class/.test(o)?"/ajaxadvclickcount":"/common/adver-advclickcount";var u=window.open();$.post(t,{adv_id:e},function(t){u.location.href=d})},checkAdvCloseTime:function(t){var e=l.get("adv_"+t.rootElementSelector);if(!e)return!0;var d=24*t.nextShowTimeAfterClose*3600*1e3;return(new Date).getTime()-1*e>d}},n={bind:function(t){var d=t.rootElementSelector;return c[d]={},"pop"==t.type?(c[d].close=function(){u.hide()},!1):(t.animateShow?c[d].show=function(){$(d)[t.animateShow](500)}:c[d].show=function(){e[d].style.display="block"},void(t.animateClose?c[d].close=function(){$(d)[t.animateClose](500)}:c[d].close=function(){e[d].style.display="none"}))}};t.initAdv=function(t,d){t||(t=""),d||(d={});var o={type:d.type||"static",link:d.link||"",image:d.image||"",alt:d.alt||"",advid:d.advid||0,animateShow:d.animateShow||"",animateClose:d.animateClose||"",rootElementSelector:t,closebtn:d.closebtn||!1,nextShowTimeAfterClose:parseInt(d.nextShowTimeAfterClose)||0};if(o.link||console.warn("Advertise set warn: "+o.type+" advertise unset navigate link"),o.image||console.warn("Advertise set warn: "+o.type+" advertise unset image"),o.advid||console.warn("Advertise set warn: "+o.type+" advertise unset id"),o.nextShowTimeAfterClose&&!a.checkAdvCloseTime(o))return!1;var u=o.rootElementSelector;if("object"==typeof u)e[u.id]=u;else{var c=u.slice(0,1);"#"===c?e[u]=document.getElementById(u.slice(1)):"."===c&&(e[u]=document.getElementsByClassName(u.slice(1))[0])}return e[u]||"pop"==o.type?(i.init(o),void a.bind(o)):void console.warn("Root HTMLDom is not define")};var r=function(){var t=0,e=[],d=[],o=document.getElementsByClassName("moco-advertising-container");if(!(!o.length>0)){for(;t<o.length;t++)"{}"!==JSON.stringify(o[t].dataset)&&(e.push(o[t].dataset),d.push(t));for(t=0;t<d.length;t++)initAdv(o[d[t]],e[d[t]])}},s=function(){var t=[".moco-modal-title{","padding:0 !important;","display: none;","}",".moco-modal-dialog{","padding:0 !important;","}",".moco-modal-layer{","background: transparent;","box-shadow: 0 0 0 rgba(0,0,0,0) !important;","}","#MOCO_POP_ADVERTISING{","width:480px;","min-height:360px;","max-height:640px;","border-radius:25px;","overflow:hidden;","position:absolute;","top: 50%;","transform: translateY(-50%);","-ms-transform: translateY(-50%);","-webkit-transform: translateY(-50%);","}","#MOCO_POP_ADVERTISING img{","width:100%;","display:block;","}","#MOCO_POP_ADVERTISING > i{","display: inline-block;","position: absolute;","right: 24px;","top: 24px;","color: #fff;","font-size: 24px;","opacity:0.3;","cursor: pointer;","}","#MOCO_POP_ADVERTISING > i:hover{","opacity: 0.8;","}"],e=document.createElement("style");return e.type="text/css",e.id="rewriteMocoDialog",e.innerText=t.join(""),e},l={parse:function(){var t=new Object,e=document.cookie.split(";");for(var d in e){var o=e[d].split("=");t[o[0].trim()]=o[1]}return t},get:function(t){var e=l.parse();return e[t]},set:function(t,e,d){var o=t+"="+e+";domain=.imooc.com;expires="+24*d*3600*1e3;document.cookie=o}};r()}(),Boxy.OriginalzIndex=900,Boxy.zIndex=900,Boxy.dragConfigured=!1,Boxy.resizeConfigured=!1,Boxy.dragging=null,Boxy.browser={mozilla:/firefox/.test(navigator.userAgent.toLowerCase()),webkit:/webkit/.test(navigator.userAgent.toLowerCase()),opera:/opera/.test(navigator.userAgent.toLowerCase()),msie:/msie/.test(navigator.userAgent.toLowerCase())},Boxy.isModalVisible=function(){return $(".moco-modal-blackout").length>0},Boxy._u=function(){for(var t=0;t<arguments.length;t++)if("undefined"!=typeof arguments[t])return!1;return!0},Boxy._handleResize=function(t){var e=$(document);$(".moco-modal-blackout").css("display","none").css({width:e.width(),height:e.height()}).css("display","block")},Boxy._handleDrag=function(t){var e;if(e=Boxy.dragging){var d=$(window).width()-e[0].boxy.width(),o=$(window).height()-e[0].boxy.height(),u=t.pageX-e[1],c=t.pageY-e[2];u<=0&&(u=0),c<=0&&(c=0),u>=d&&(u=d),c>=o&&(c=o),e[0].boxy.stop().animate({left:u+"px",top:c+"px"},10)}},Boxy._nextZ=function(){return Boxy.zIndex++},Boxy._viewport=function(){var t=document.documentElement,e=document.body,d=window;return $.extend(Boxy.browser.msie?{left:e.scrollLeft||t.scrollLeft,top:e.scrollTop||t.scrollTop}:{left:d.pageXOffset,top:d.pageYOffset},Boxy._u(d.innerWidth)?Boxy._u(t)||Boxy._u(t.clientWidth)||0==t.clientWidth?{width:e.clientWidth,height:e.clientHeight}:{width:t.clientWidth,height:t.clientHeight}:{width:d.innerWidth,height:d.innerHeight})},Boxy.prototype={estimateSize:function(){this.boxy.css({visibility:"hidden",display:"block"});var t=this.getSize();return this.boxy.css("display","none").css("visibility","visible"),t},getSize:function(){return[this.boxy.width(),this.boxy.height()]},getContentSize:function(){var t=this.getContent();return[t.width(),t.height()]},getPosition:function(){var t=this.boxy[0];return[t.offsetLeft,t.offsetTop]},getCenter:function(){var t=this.getPosition(),e=this.getSize();return[Math.floor(t[0]+e[0]/2),Math.floor(t[1]+e[1]/2)]},getInner:function(){return $(".moco-modal-inner",this.boxy)},getTInner:function(){return $(".moco-modal-title",this.boxy)},getContent:function(){return this.boxy},setContent:function(t){return t=$(t).css({display:"block"}),this.options.clone&&(t=t.clone(!0)),this.getInner().append(t),this._setupDefaultBehaviours(t),this.options.behaviours.call(this,t),this},moveTo:function(t,e){return this.moveToX(t).moveToY(e),this},moveToX:function(t){return"number"==typeof t?this.boxy.css({left:t}):this.centerX(),this},moveToY:function(t){return"number"==typeof t?this.boxy.css({top:t}):this.centerY(),this},centerAt:function(t,e){var d=this[this.visible?"getSize":"estimateSize"]();return"number"==typeof t&&this.moveToX(t-d[0]/2),"number"==typeof e&&this.moveToY(e-d[1]/2),this},centerAtX:function(t){return this.centerAt(t,null)},centerAtY:function(t){return this.centerAt(null,t)},center:function(t){var e=Boxy._viewport(),d=this.options.fixed?[0,0]:[e.left,e.top];return t&&"x"!=t||this.centerAt(d[0]+e.width/2,null),t&&"y"!=t||this.centerAt(null,d[1]+e.height/2),this},centerX:function(){return this.center("x")},centerY:function(){return this.center("y")},resize:function(t){if(this.visible){t=t||{};var e=t.width||this.getInner().width(),d=t.height||this.getInner().height()+36,o=$(window).height(),u=this._getBoundsForResize(e,d);return this.boxy.css({left:u[0],top:u[1]}),this.getContent().css({width:u[2],height:u[3]}),t.after&&t.after(this),d>o?(this.boxy.addClass("fixed"),this.modalBlackout.css({width:$(document).width(),height:d+40})):this.center(),this}},tween:function(t,e,d){if(this.visible){var o=this._getBoundsForResize(t,e),u=this;return this.boxy.stop().animate({left:o[0],top:o[1]}),this.getContent().stop().animate({width:o[2],height:o[3]},function(){d&&d(u)}),this}},isVisible:function(){return this.visible},show:function(){if(!this.visible){if($(document.body).addClass("moco-modal-body"),this.options.modal){var t=this;Boxy.resizeConfigured||(Boxy.resizeConfigured=!0,$(window).resize(function(){Boxy._handleResize()})),$(".moco-modal-blackout").length?this.modalBlackout=$(".moco-modal-blackout").css({zIndex:Boxy._nextZ(),opacity:.7,width:$(document).width(),height:$(document).height()}):(Boxy.zIndex=Boxy.OriginalzIndex,this.modalBlackout=$('<div class="moco-modal-blackout js-moco-modal-cancel"></div>').css({zIndex:Boxy._nextZ(),opacity:.7,width:$(document).width(),height:$(document).height()}).appendTo(document.body)),this.toTop(),this.options.closeable&&$(document.body).bind("keypress.boxy",function(e){var d=e.which||e.keyCode;27==d&&(t.hide(),$(document.body).unbind("keypress.boxy"))})}var e=Boxy._viewport(),d=this[this.visible?"getSize":"estimateSize"]();return d[1]>e.height&&(this.boxy.addClass("fixed"),this.options.modal&&this.modalBlackout.css({width:e.width,height:e.height})),this.boxy.show(),this.overlay.stop().css({opacity:1}).show(),this.visible=!0,this._fire("afterShow"),this}},hide:function(t){if(this.visible){var e=this;if($(document.body).removeClass("moco-modal-body"),this.overlay.stop().css({display:"none"}),this.visible=!1,$(e.overlay).remove(),e._fire("afterHide"),t&&t(e),e.options.unloadOnHide&&e.unload(),e.options.modal){var d=e.getBigZ();d?e.modalBlackout.css({zIndex:d,width:$(document).width(),height:$(document).height()}):($(document.body).unbind("keypress.boxy"),e.modalBlackout.animate({opacity:0},100,function(){$(this).remove()}))}return e.options.closeCallback&&e.options.closeCallback(),this}},toggle:function(){return this[this.visible?"hide":"show"](),this},hideAndUnload:function(t){return this.options.unloadOnHide=!0,this.hide(t),this},unload:function(){this._fire("beforeUnload"),this.boxy.remove(),this.options.actuator&&$.data(this.options.actuator,"active.boxy",!1)},toTop:function(){var t=Boxy._nextZ();return this.boxy.css({zIndex:t}),this.overlay.css({zIndex:t}),this},getBigZ:function(){var t=1;return $.each($(".moco-modal-layer"),function(e,d){var o=1*$(d).css("zIndex");o>t&&(t=o)}),t-1},getTitle:function(){return $("> .moco-modal-title span",this.getInner()).html()},setTitle:function(t){return $("> .moco-modal-title span",this.getTInner()).html(t),this},_getBoundsForResize:function(t,e){var d=this.getContentSize(),o=[t-d[0],e-d[1]],u=this.getPosition();return[Math.max(u[0]-o[0]/2,0),Math.max(u[1]-o[1]/2,0),t,e]},_setupTitleBar:function(){if(this.options.title){var t=this,e=$("<div></div>").html("<span>"+this.options.title+"</span>");this.options.closeable&&e.append($("<a href='javascript:void(0)' class='moco-icon-close moco-modal-close js-modal-close'></a>").html(this.options.closeText)),this.options.draggable&&(e.addClass("moco-modal-draggable"),e[0].onselectstart=function(){return!1},e[0].unselectable="on",e[0].style.MozUserSelect="none",Boxy.dragConfigured||($(document).mousemove(Boxy._handleDrag),Boxy.dragConfigured=!0),e.mousedown(function(e){t.toTop(),Boxy.dragging=[t,e.pageX-t.boxy[0].offsetLeft,e.pageY-t.boxy[0].offsetTop],$(this).addClass("dragging")}),$(document).mouseup(function(){$(this).removeClass("dragging"),Boxy.dragging=null,t._fire("afterDrop")})),this.getTInner().prepend(e),this._setupDefaultBehaviours(e)}else this.getTInner().remove()},_setupDefaultBehaviours:function(t){var e=this;this.options.clickToFront&&t.click(function(){e.toTop()}),$(".js-modal-close",t).click(function(){return e.hide(),!1}).mousedown(function(t){t.stopPropagation()})},_fire:function(t){this.options[t].call(this)}},!function(t){"function"==typeof define&&"function"!=typeof jQuery?define(["jquery"],t):t(jQuery)}(function(t){t.extend({dialog:function(t,e){var d=$.extend({title:null,timeout:0,modal:!1,draggable:!0,callback:function(){}},e),o='<div class="moco-modal-dialog">'+t+"</div>",u=new Boxy(o,{title:d.title,modal:d.modal,draggable:d.draggable,closeCallback:d.callback});return 0!=d.timeout&&setTimeout(function(){u.hide(),d.callback()},d.timeout),(d.width||d.height)&&u.resize({width:d.width,height:d.height}),u},alert:function(t,e){var d='<div class="moco-modal-wrap">                    <p class="moco-modal-content js-modal-content">$content</p>                    $info                    <div class="moco-modal-btns">                        <a class="moco-btn moco-btn-dark js-modal-submit" onclick="return false" href="javascript:void(0)"><span>$submit</span></a>                    </div>                </div>',o=$.extend({submit:"确定",timeout:0,modal:!0,callback:function(){}},e),u=d.replace("$content",t);u=o.info?u.replace("$info",'<p class="moco-modal-info js-modal-info">'+o.info+"</p>"):u.replace("$info",""),u=u.replace("$submit",o.submit);var c=new Boxy(u,{modal:o.modal,draggable:!1,closeCallback:o.callback});return $(c.boxy).find("a.js-modal-submit").click(function(){c.hide(),o.callback()}),$(c.modalBlackout).click(function(){c.hide(),o.callback()}),0!=o.timeout&&setTimeout(function(){c.hide(),o.callback()},o.timeout),c},confirm:function(t,e){var d='<div class="moco-modal-wrap" node-type="outer">                        <p class="moco-modal-content js-modal-content">$content</p>                        $info                    <div class="moco-modal-btns">                        <a class="moco-btn moco-btn-line-g js-modal-cancel" onclick="return false" href="javascript:void(0)"><span>$cancel</span></a><a class="moco-btn moco-btn-dark js-modal-submit" onclick="return false" href="javascript:void(0)"><span>$submit</span></a>                    </div>                </div>',o=$.extend({submit:"确定",cancel:"取消",modal:!0,callback:function(){},cancelcallback:function(){}},e),u=d.replace("$content",t);u=o.info?u.replace("$info",'<p class="moco-modal-info js-modal-info">'+o.info+"</p>"):u.replace("$info",""),u=u.replace("$submit",o.submit).replace("$cancel",o.cancel);var c=new Boxy(u,{modal:o.modal,draggable:!1,closeCallback:o.CancelCallback});return $(c.boxy).find("a.js-modal-submit").click(function(){c.hide(),o.callback()}),$(c.boxy).find("a.js-modal-cancel").click(function(){c.hide(),o.cancelcallback()}),$(c.modalBlackout).click(function(){c.hide(),o.cancelcallback()}),c},prompt:function(t,e){var d=($(window).width(),$(window).height(),$(".moco-tip-layer").remove(),{success:"moco-icon-tick-revert",error:"moco-icon-point-revert",question:"moco-icon-ques-revert"}),e=$.extend({icon:"success",timeout:1e3,modal:!0,callback:function(){}},e),o="<div class='moco-prompt-layer'><i class='"+d[e.icon]+"'></i>                <span >"+t+"</span></div>",u=new Boxy(o,{modal:e.modal,draggable:!1,closeCallback:e.callback});return $(".moco-modal-layer").css("border-radius","8px"),setTimeout(function(){u.hide()},e.timeout),u},tipAlert:function(t,e){var d=$(".moco-tip-layer").remove();d=$('<div class="moco-modal-layer moco-tip-layer">').appendTo($("body"));var o={success:"moco-icon-tick-revert",error:"moco-icon-point-revert",question:"moco-icon-ques-revert"},e=$.extend({icon:"success",info:"",timeout:1e3},e),u="<i class='"+o[e.icon]+"'></i>                <span>"+e.info+"</span>";d.hide().html(u).css({top:$(t).offset().top-30,left:$(t).offset().left-15}),d.animate({top:$(t).offset().top-45,left:$(t).offset().left-15,opacity:"show"},300),setTimeout(function(){d.animate({opacity:"hide"},300),setTimeout(function(){d.remove()},1e3)},e.timeout)},tipConfirm:function(t,e){var d=$(".moco-tip-layer").remove();d=$('<div class="moco-modal-layer moco-tip-layer moco-tipconfirm-layer">').appendTo($("body"));var o={success:"moco-icon-tick-revert",error:"moco-icon-point-revert",question:"moco-icon-ques-revert"},e=$.extend({icon:"question",info:"",callback:function(){},cancelcallback:function(){}},e),u='<i class="'+o[e.icon]+'"></i>                <span class="moco-tipconfirm-info">'+e.info+'</span>                <a class="moco-btn moco-btn-gray-l js-modal-cancel" onclick="return false" href="javascript:void(0)"><i class="moco-icon-close"></i></a><a class="moco-btn moco-btn-dark js-modal-submit" onclick="return false" href="javascript:void(0)"><i class="moco-icon-check"></i></a>';d.hide().html(u).css({top:$(t).offset().top-30,left:$(t).offset().left-15}),d.animate({top:$(t).offset().top-45,left:$(t).offset().left-15,opacity:"show"},300),d.find(".js-modal-cancel").click(function(){d.remove(),e.cancelcallback()}),d.find(".js-modal-submit").click(function(){d.remove(),e.callback()})}})}),function(){var t='<div class="moco-face-box">                <ul>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f600.png" alt="&#x1F600;" title="笑"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f609.png" alt="&#x1F609;" title="挤眼"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f618.png" alt="&#x1F618;" title="飞吻"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f634.png" alt="&#x1F634;" title="困"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f614.png" alt="&#x1F614;" title="失落"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f602.png" alt="&#x1F602;" title="笑哭"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f60d.png" alt="&#x1F60d;" title="色眯眯"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f617.png" alt="&#x1F617;" title="亲亲"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f633.png" alt="&#x1F633;" title="脸红"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f631.png" alt="&#x1F631;" title="惊恐"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f607.png" alt="&#x1F607;" title="天使"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f612.png" alt="&#x1F612;" title="鄙视"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f620.png" alt="&#x1F620;" title="生气"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f637.png" alt="&#x1F637;" title="生病"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f60e.png" alt="&#x1F60e;" title="酷"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f635.png" alt="&#x1F635;" title="晕"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f61c.png" alt="&#x1F61c;" title="调皮"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f613.png" alt="&#x1F613;" title="汗"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f62d.png" alt="&#x1F62d;" title="大哭"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f628.png" alt="&#x1F628;" title="吃惊"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f625.png" alt="&#x1F625;" title="心虚"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f621.png" alt="&#x1F621;" title="发怒"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f623.png" alt="&#x1F623;" title="难受"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f44e.png" alt="&#x1F44e;" title="弱"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f4aa.png" alt="&#x1F4aa;" title="强壮"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f44f.png" alt="&#x1F44f;" title="鼓掌"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f44d.png" alt="&#x1F44d;" title="赞"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f44c.png" alt="&#x1F44c;" title="OK"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f44a.png" alt="&#x1F44a;" title="打你"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f4af.png" alt="&#x1F4af;" title="100分"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f47b.png" alt="&#x1F47b;" title="鬼魂"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f308.png" alt="&#x1F308;" title="彩虹"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f4a3.png" alt="&#x1F4a3;" title="炸弹"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f494.png" alt="&#x1F494;" title="心碎"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f4a9.png" alt="&#x1F4a9;" title="便便"></li>                    <li><img src="https://www.imooc.com/static/moco/v1.0/images/face/36x36/1f608.png" alt="&#x1F608;" title="恶魔"></li>                </ul>            </div>',e=function(t){var e=0,d=function(t){"DIV"==t.get(0).nodeName&&("auto"!=t.css("z-index")&&(e=t.css("z-index")),d(t.parent()))};return d(t),1*e+1},d=function(d,o){var u={l:d.offset().left,t:d.offset().top,w:d.outerWidth(),h:d.outerHeight()},c="",i=u.l-176+u.w/2;i+352>$(document).width()&&(i=u.l-352+u.w,c="sideright");var a=e(d),n=$(t).css({zIndex:a,left:i,top:u.t+u.h+5}).appendTo($("body"));n.attr("id","js-moco-face-"+$(".moco-face-box").length),c&&n.addClass(c),n.find("img").click(function(){n.hide(),o($(this).attr("alt"))}),d.data("face",$(".moco-face-box").length)};$(document).mouseup(function(t){var e=$(".moco-face-box");e.is(t.target)||0!==e.has(t.target).length||$(".moco-face-box").hide()}),$.face=function(t,e){var t=$(t);t.data("face")?$("#js-moco-face-"+t.data("face")).toggle():d(t,e)}}(),!function(){var t=window.moco||(window.moco={});t.getCoupon={params:{bigTitle:"恭喜您",smalleTitle:"助学礼包领取成功",apiType:"POST",apiCrossType:"false",closeCallback:function(){},failCallback:!1},AjaxClickGetCoupon:!0,init:function(e){$.extend(t.getCoupon.params,e),t.getCoupon.bindEvent()},couponHTMLStr:function(e){var d='<div class="moco-getcoupon-wrap js-moco-getcoupon-wrap moco-getcoupon-zoomIn">\t\t\t\t\t\t\t\t\t<div class="moco-getcoupon-top-img moco-getcoupon-zoomIn moco-getcoupon-zoomIn1"></div>\t\t\t\t\t\t\t\t\t<div class="moco-getcoupon-content-box">\t\t\t\t\t\t\t\t\t\t<p class="moco-getcoupon-big-title">'+t.getCoupon.params.bigTitle+'</p>\t\t\t\t\t\t\t\t\t\t<p class="moco-getcoupon-smalle-title">'+t.getCoupon.params.smalleTitle+"，获得<span>"+e.length+'</span>张优惠券</p>\t\t\t\t\t\t\t\t\t\t<div class="moco-getcoupon-coupon-smalle-box moco-getcoupon-coupon-scroll moco-getcoupon-fadeInUp">\t\t\t\t\t\t\t\t\t\t\t<ul class="moco-getcoupon-coupon-big-box moco-getcoupon-scroller">';return $.each(e,function(t,o){d+='<li class="moco-getcoupon-coupon-item ">\t\t\t\t\t\t\t\t\t<a href="//order.imooc.com/coupon" target="_blank">\t\t\t\t\t\t\t\t\t\t<div class="moco-getcoupon-coupon-face-value clearfix">\t\t\t\t\t\t\t\t\t\t\t<p class="l moco-getcoupon-face-value">￥'+e[t].face_price+'</p>\t\t\t\t\t\t\t\t\t\t\t<p class="l">满'+e[t].full_reduced_price+"可用</p>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t<p>适用于："+e[t].range_name+"</p>\t\t\t\t\t\t\t\t\t\t<p>有效期："+e[t].start_time+"-"+e[t].end_time+"</p>\t\t\t\t\t\t\t\t\t</a>\t\t\t\t\t\t\t\t</li>"}),d+='</ul>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="moco-getcoupon-fadeInUp1">\t\t\t\t\t\t\t<p class="moco-getcoupon-tip-text">优惠券已放入<a href="http://order.imooc.com/coupon" target="_blank">“我的优惠券”</a></p>\t\t\t\t\t\t\t<div class="moco-getcoupon-close-btn js-moco-getcoupon-close-btn">朕知道了</div>\t\t\t\t\t\t</div>'},ajaxGetCoupon:function(){var e="json",d="";1==t.getCoupon.params.apiCrossType&&(d="xhrFields: {withCredentials: true}"),t.getCoupon.AjaxClickGetCoupon=!1,$.ajax({url:t.getCoupon.params.api,type:t.getCoupon.params.apiType,dataType:e,data:t.getCoupon.params.apiData,success:function(e){if(0==e.result){var d=t.getCoupon.couponHTMLStr(e.data);$("body").append(d);var o="160px";e.data.length>1&&(o="240px"),$(".js-moco-getcoupon-wrap").find(".moco-getcoupon-coupon-smalle-box").css("height",o),$(".moco-getcoupon-loading").hide();var u=-$(".js-moco-getcoupon-wrap").height()/2;$(".js-moco-getcoupon-wrap").css("margin-top",u).show(),t.getCoupon.initScroller($(".moco-getcoupon-coupon-scroll")),t.getCoupon.AjaxClickGetCoupon=!0}else t.getCoupon.hideCoupon(),t.getCoupon.AjaxClickGetCoupon=!0,t.getCoupon.params.failCallback?t.getCoupon.params.failCallback(e):""!=e.msg?$.prompt(e.msg,{icon:"error"}):$.prompt("请求错误",{icon:"error"})}})},showCoupon:function(){var e='<div class="moco-getcoupon-block js-moco-getcoupon-block moco-getcoupon-fadeIn"></div>',d='<div class="moco-getcoupon-loading">\t\t\t\t\t\t  \t    <div class="moco-getcoupon-bounce1"></div>\t\t\t\t\t\t\t\t<div class="moco-getcoupon-bounce2"></div>\t\t\t\t\t\t\t\t<div class="moco-getcoupon-bounce3"></div>\t\t\t\t\t\t\t</div>',o=e+d;$("body").append(o),$(".js-moco-getcoupon-block").show(),$(".moco-getcoupon-loading").show(),t.getCoupon.ajaxGetCoupon()},hideCoupon:function(){$(".js-moco-getcoupon-block").remove(),$(".moco-getcoupon-loading").remove(),$(".js-moco-getcoupon-wrap").remove()},initScroller:function(t,e){var d=t,o=d.find(".moco-getcoupon-scroller"),u=d.height(),c=o.height();return d.hasClass("ps-container")?void setTimeout(function(){var t=d.scrollTop()||0;d[0].scrollTop=e===!0?0:t,d.perfectScrollbar("update")},0):void(c>u&&setTimeout(function(){d.perfectScrollbar({wheelSpeed:30,wheelPropagation:!1}),"function"==typeof e&&e()},0))},destroy:function(t){t.perfectScrollbar&&t.perfectScrollbar("destroy"),t.removeClass("ps-container")},update:function(t){t.perfectScrollbar&&t.perfectScrollbar("update")},bindEvent:function(){$("body").on("click",".js-moco-getcoupon",function(){t.getCoupon.AjaxClickGetCoupon||$.prompt("响应中~ 请稍后",{icon:"error"}),t.getCoupon.showCoupon()}),$("body").on("click",".js-moco-getcoupon-close-btn",function(){t.getCoupon.hideCoupon(),t.getCoupon.params.closeCallback()})}}}(),!function(){var t=window.moco||(window.moco={}),e=function(t){return"[object Array]"===Object.prototype.toString.apply(t)},d=new RegExp("[\\u4E00-\\u9FFF]+","g"),o=function(t,e){this.Parent=t,this.init(e)};o.prototype={init:function(t){var e=this;$(e.Parent).find("img").css("cursor","pointer");var o="img",u=e.Parent;if(t){u="body";var o=e.Parent+" img"}$(u).on("click",o,function(){if(!$(this).hasClass("nopreview")){d.test($(this).attr("data-src"))&&$(this).attr("data-src",$(this).attr("src"));var t=["<div id='imgPreview' class='imgPreview'>","<img class='nopreview' />","</div>","<div id='imgPreviewMake' class='imgPreview-make'></div>","<div id='imgPreviewHandle' class='imgPreviewHandle'>","<a target='_blank' class='viewOriginalImg' href=''>","<span class='viewOriginalImgText'>查看原图</span>","</a>","<span class='imgPreview-btn next moco-icon-right'></span>","<span class='imgPreview-btn prev moco-icon-left'></span>","<i title='关闭' class='imgPreview-close moco-icon-close2'></i>","</div>"].join("");return $("body").append(t),e.Preview(this),!1}})},currentimg:null,Preview:function(t,e){var d=this;d.currentimg=t,$("#imgPreview img").attr("src","");var o=$(t).attr("data-src")||$(t).attr("data-original");o||(o=$(t).attr("src")),o=this.imageSrc(o,$(t).attr("src")),$("#imgPreviewHandle .viewOriginalImg").attr("href",o);var u=new Image;u.onload=function(){var t=$(window).width(),e=$(window).height(),u=this.width,c=this.height,i=t/e,a=u/c;i>a?c>e&&(c=parseInt(e-100),u=parseInt(c*a)):u>t&&(u=parseInt(t-100),c=parseInt(u/a));var n="height: "+c+"px; width: "+u+"px; margin-left: "+-u/2+"px; margin-top: "+-c/2+"px; display: block;";$("#imgPreview").removeClass("pngshow").show(),d.Switch("btn"),setTimeout(function(){$("#imgPreview").addClass("pngshow").attr("style",n),$("#imgPreview img").attr("src",o)},300)},e||d.bindEvent(),u.src=o},imageSrc:function(t,e){if(t&&t.indexOf("//")!=-1||(t=e),t.indexOf("mukewang.com")!=-1||t.indexOf("imooc.com")!=-1){var d=t.substr(t.lastIndexOf("."));return t=t.split(d)[0],t.indexOf("-")!=-1&&(t=t.slice(0,t.indexOf("-"))),t+""+d}return t},bindEvent:function(){var t=this,e=function(){$("#imgPreview").remove(),$("#imgPreviewMake").remove(),$("#imgPreviewHandle").remove()};$("#imgPreviewHandle .imgPreview-close").on("click",function(t){e(),t.stopPropagation()}),$("#imgPreviewHandle .next").on("click",function(e){t.Switch("next"),e.stopPropagation()}),$("#imgPreviewHandle .prev").on("click",function(e){t.Switch("prev"),e.stopPropagation()}),$("#imgPreviewHandle").on("click",function(){e()}),$("#imgPreviewHandle .viewOriginalImg").on("click",function(t){t.stopPropagation()})},Switch:function(t){var e,d=this,o=$(d.currentimg).data("moco");e=o?$(d.Parent).find('[data-moco="'+o+'"]'):$(d.Parent).find("img:not(.nopreview)"),e.length>1?($("#imgPreviewHandle .imgPreview-btn").show(),e.each(function(o){if(d.currentimg==this){if("next"==t){if(o<e.length-1){var u=e[o+1];d.Preview(u,!0)}}else if("prev"==t&&0!=o){var u=e[o-1];d.Preview(u,!0)}return"btn"==t&&(o==e.length-1&&$(".imgPreview-btn.next").hide(),0==o&&$(".imgPreview-btn.prev").hide()),!1}})):$("#imgPreviewHandle .imgPreview-btn").hide()}},t.imagePreview={init:function(t,d){if(!e(t))return new o(t,d);for(var u=t,c=0;c<u.length;c++)new o(t[c],d)}}}(window),!function(t){"function"==typeof define&&"function"!=typeof jQuery?define(["jquery"],t):t(jQuery)}(function(t){var e={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0};t.fn.perfectScrollbar=function(d,o){return this.each(function(){var u=t.extend(!0,{},e),c=t(this);if("object"==typeof d?t.extend(!0,u,d):o=d,"update"===o)return c.data("perfect-scrollbar-update")&&c.data("perfect-scrollbar-update")(),c;if("destroy"===o)return c.data("perfect-scrollbar-destroy")&&c.data("perfect-scrollbar-destroy")(),c;if(c.data("perfect-scrollbar"))return c.data("perfect-scrollbar");c.addClass("ps-container");var i,a,n,r,s,l,f,m,p,h,g=t("<div class='ps-scrollbar-x-rail'></div>").appendTo(c),v=t("<div class='ps-scrollbar-y-rail'></div>").appendTo(c),b=t("<div class='ps-scrollbar-x'></div>").appendTo(g),w=t("<div class='ps-scrollbar-y'></div>").appendTo(v),x=parseInt(g.css("bottom"),10),y=parseInt(v.css("right"),10),$=function(){
var t=parseInt(h*(l-r)/(r-p),10);c.scrollTop(t),g.css({bottom:x-t})},k=function(){var t=parseInt(m*(s-n)/(n-f),10);c.scrollLeft(t),v.css({right:y-t})},C=function(t){return u.minScrollbarLength&&(t=Math.max(t,u.minScrollbarLength)),t},T=function(){g.css({left:c.scrollLeft(),bottom:x-c.scrollTop(),width:n}),v.css({top:c.scrollTop(),right:y-c.scrollLeft(),height:r}),b.css({left:m,width:f}),w.css({top:h,height:p})},_=function(){n=c.width(),r=c.height(),s=c.prop("scrollWidth"),l=c.prop("scrollHeight"),s>n?(i=!0,f=C(parseInt(n*n/s,10)),m=parseInt(c.scrollLeft()*(n-f)/(s-n),10)):(i=!1,f=0,m=0,c.scrollLeft(0)),l>r?(a=!0,p=C(parseInt(r*r/l,10)),h=parseInt(c.scrollTop()*(r-p)/(l-r),10)):(a=!1,p=0,h=0,c.scrollTop(0)),h>=r-p&&(h=r-p),m>=n-f&&(m=n-f),T()},j=function(t,e){var d=t+e,o=n-f;m=0>d?0:d>o?o:d,g.css({left:c.scrollLeft()}),b.css({left:m})},I=function(t,e){var d=t+e,o=r-p;h=0>d?0:d>o?o:d,v.css({top:c.scrollTop()}),w.css({top:h})},P=function(){var e,d;b.bind("mousedown.perfect-scrollbar",function(t){d=t.pageX,e=b.position().left,g.addClass("in-scrolling"),t.stopPropagation(),t.preventDefault()}),t(document).bind("mousemove.perfect-scrollbar",function(t){g.hasClass("in-scrolling")&&(k(),j(e,t.pageX-d),t.stopPropagation(),t.preventDefault())}),t(document).bind("mouseup.perfect-scrollbar",function(){g.hasClass("in-scrolling")&&g.removeClass("in-scrolling")}),e=d=null},H=function(){var e,d;w.bind("mousedown.perfect-scrollbar",function(t){d=t.pageY,e=w.position().top,v.addClass("in-scrolling"),t.stopPropagation(),t.preventDefault()}),t(document).bind("mousemove.perfect-scrollbar",function(t){v.hasClass("in-scrolling")&&($(),I(e,t.pageY-d),t.stopPropagation(),t.preventDefault())}),t(document).bind("mouseup.perfect-scrollbar",function(){v.hasClass("in-scrolling")&&v.removeClass("in-scrolling")}),e=d=null},S=function(){var t=function(t,e){var d=c.scrollTop();if(0===d&&e>0&&0===t)return!u.wheelPropagation;if(d>=l-r&&0>e&&0===t)return!u.wheelPropagation;var o=c.scrollLeft();return 0===o&&0>t&&0===e?!u.wheelPropagation:!(o>=s-n&&t>0&&0===e)||!u.wheelPropagation},e=!1;c.bind("mousewheel.perfect-scrollbar",function(d,o,n,r){u.useBothWheelAxes?a&&!i?r?c.scrollTop(c.scrollTop()-r*u.wheelSpeed):c.scrollTop(c.scrollTop()+n*u.wheelSpeed):i&&!a&&(n?c.scrollLeft(c.scrollLeft()+n*u.wheelSpeed):c.scrollLeft(c.scrollLeft()-r*u.wheelSpeed)):(c.scrollTop(c.scrollTop()-r*u.wheelSpeed),c.scrollLeft(c.scrollLeft()+n*u.wheelSpeed)),_(),e=t(n,r),e&&d.preventDefault()}),c.bind("MozMousePixelScroll.perfect-scrollbar",function(t){e&&t.preventDefault()})},A=function(){var e=function(t,e){var d=c.scrollTop();if(0===d&&e>0&&0===t)return!1;if(d>=l-r&&0>e&&0===t)return!1;var o=c.scrollLeft();return!(0===o&&0>t&&0===e)&&!(o>=s-n&&t>0&&0===e)},d=!1;c.bind("mouseenter.perfect-scrollbar",function(){d=!0}),c.bind("mouseleave.perfect-scrollbar",function(){d=!1});var o=!1;t(document).bind("keydown.perfect-scrollbar",function(t){if(d){var i=0,a=0;switch(t.which){case 37:i=-3;break;case 38:a=3;break;case 39:i=3;break;case 40:a=-3;break;default:return}c.scrollTop(c.scrollTop()-a*u.wheelSpeed),c.scrollLeft(c.scrollLeft()+i*u.wheelSpeed),_(),o=e(i,a),o&&t.preventDefault()}})},D=function(){var t=function(t){t.stopPropagation()};w.bind("click.perfect-scrollbar",t),v.bind("click.perfect-scrollbar",function(t){var e=parseInt(p/2,10),d=t.pageY-v.offset().top-e,o=r-p,u=d/o;0>u?u=0:u>1&&(u=1),c.scrollTop((l-r)*u),_()}),b.bind("click.perfect-scrollbar",t),g.bind("click.perfect-scrollbar",function(t){var e=parseInt(f/2,10),d=t.pageX-g.offset().left-e,o=n-f,u=d/o;0>u?u=0:u>1&&(u=1),c.scrollLeft((s-n)*u),_()})},E=function(){var e=function(t,e){c.scrollTop(c.scrollTop()-e),c.scrollLeft(c.scrollLeft()-t),_()},d={},o=0,u={},i=null,a=!1;t(window).bind("touchstart.perfect-scrollbar",function(){a=!0}),t(window).bind("touchend.perfect-scrollbar",function(){a=!1}),c.bind("touchstart.perfect-scrollbar",function(t){var e=t.originalEvent.targetTouches[0];d.pageX=e.pageX,d.pageY=e.pageY,o=(new Date).getTime(),null!==i&&clearInterval(i),t.stopPropagation()}),c.bind("touchmove.perfect-scrollbar",function(t){if(!a&&1===t.originalEvent.targetTouches.length){var c=t.originalEvent.targetTouches[0],i={};i.pageX=c.pageX,i.pageY=c.pageY;var n=i.pageX-d.pageX,r=i.pageY-d.pageY;e(n,r),d=i;var s=(new Date).getTime();u.x=n/(s-o),u.y=r/(s-o),o=s,t.preventDefault()}}),c.bind("touchend.perfect-scrollbar",function(){clearInterval(i),i=setInterval(function(){return.01>Math.abs(u.x)&&.01>Math.abs(u.y)?void clearInterval(i):(e(30*u.x,30*u.y),u.x*=.8,void(u.y*=.8))},10)})},F=function(){c.unbind(".perfect-scrollbar"),t(window).unbind(".perfect-scrollbar"),t(document).unbind(".perfect-scrollbar"),c.data("perfect-scrollbar",null),c.data("perfect-scrollbar-update",null),c.data("perfect-scrollbar-destroy",null),b.remove(),w.remove(),g.remove(),v.remove(),b=w=n=r=s=l=f=m=x=p=h=y=null},B=function(e){c.addClass("ie").addClass("ie"+e);var d=function(){var e=function(){t(this).addClass("hover")},d=function(){t(this).removeClass("hover")};c.bind("mouseenter.perfect-scrollbar",e).bind("mouseleave.perfect-scrollbar",d),g.bind("mouseenter.perfect-scrollbar",e).bind("mouseleave.perfect-scrollbar",d),v.bind("mouseenter.perfect-scrollbar",e).bind("mouseleave.perfect-scrollbar",d),b.bind("mouseenter.perfect-scrollbar",e).bind("mouseleave.perfect-scrollbar",d),w.bind("mouseenter.perfect-scrollbar",e).bind("mouseleave.perfect-scrollbar",d)},o=function(){T=function(){b.css({left:m+c.scrollLeft(),bottom:x,width:f}),w.css({top:h+c.scrollTop(),right:y,height:p}),b.hide().show(),w.hide().show()},$=function(){var t=parseInt(h*l/r,10);c.scrollTop(t),b.css({bottom:x}),b.hide().show()},k=function(){var t=parseInt(m*s/n,10);c.scrollLeft(t),w.hide().show()}};6===e&&(d(),o())},O="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,z=function(){var t=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);t&&"msie"===t[1]&&B(parseInt(t[2],10)),_(),P(),H(),D(),O&&E(),c.mousewheel&&S(),u.useKeyboard&&A(),c.data("perfect-scrollbar",c),c.data("perfect-scrollbar-update",_),c.data("perfect-scrollbar-destroy",F)};return z(),c})}}),function(t){function e(e){var d=e||window.event,o=[].slice.call(arguments,1),u=0,c=0,i=0;return e=t.event.fix(d),e.type="mousewheel",d.wheelDelta&&(u=d.wheelDelta/120),d.detail&&(u=-d.detail/3),i=u,void 0!==d.axis&&d.axis===d.HORIZONTAL_AXIS&&(i=0,c=-1*u),void 0!==d.wheelDeltaY&&(i=d.wheelDeltaY/120),void 0!==d.wheelDeltaX&&(c=-1*d.wheelDeltaX/120),o.unshift(e,u,c,i),(t.event.dispatch||t.event.handle).apply(this,o)}var d=["DOMMouseScroll","mousewheel"];if(t.event.fixHooks)for(var o=d.length;o;)t.event.fixHooks[d[--o]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=d.length;t;)this.addEventListener(d[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=d.length;t;)this.removeEventListener(d[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery),!function(){var t=$(".js-activity"),e=$(".js-hide-in-act"),d=10,o=0,u=21,c=0,i=window.moco||(window.moco={});initActivity=function(){return t.size()?i.checkActivityTime()?void t.css("display","block"):(console.info("time still not enough"),e.css("display","block"),!1):(console.info("this page has no activity door dom node"),!1)},i.checkActivityTime=function(){var t=new Date,e=new Date,i=(new Date).getTime();return t.setDate(d),t.setHours(o,0,0,0),e.setDate(u),e.setHours(c,0,0,0),t.getTime()<i&&i<e.getTime()},initActivity()}();var twemoji=function(){"use strict";function t(t){return document.createTextNode(t)}function e(t){return t.replace(w,a)}function d(t,e){return"".concat(e.base,e.size,"/",t,e.ext)}function o(t,e){for(var d,u,c=t.childNodes,i=c.length;i--;)d=c[i],u=d.nodeType,3===u?e.push(d):1!==u||x.test(d.nodeName)||d.getAttribute("noemoji")||o(d,e);return e}function u(t,e){return h("️"===e?t.slice(0,-1):3===t.length&&"️"===t.charAt(1)?t.charAt(0)+t.charAt(2):t)}function c(e,d){for(var c,i,a,n,r,s,l,f,m,p,h,g,v,w,x=o(e,[]),y=x.length;y--;){for(a=!1,n=document.createDocumentFragment(),r=x[y],s=r.nodeValue,f=0;l=b.exec(s);){if(m=l.index,m!==f&&n.appendChild(t(s.slice(f,m))),h=l[0],g=l[1],v=l[2],f=m+h.length,"︎"!==v&&(w=d.callback(u(g,v),d,v))){p=new Image,p.onerror=d.onerror,p.setAttribute("draggable","false"),c=d.attributes(g,v);for(i in c)c.hasOwnProperty(i)&&0!==i.indexOf("on")&&!p.hasAttribute(i)&&p.setAttribute(i,c[i]);p.className=d.className,p.alt=h,p.src=w,a=!0,n.appendChild(p)}p||n.appendChild(t(h)),p=null}a&&(f<s.length&&n.appendChild(t(s.slice(f))),r.parentNode.replaceChild(n,r))}return e}function i(t,d){return m(t,function(t,o,c){var i,a,n,r=t;if("︎"!==c&&(n=d.callback(u(o,c),d,c))){r="<img ".concat('class="',d.className,'" ','draggable="false" ','alt="',t,'"',' src="',n,'"'),i=d.attributes(o,c);for(a in i)i.hasOwnProperty(a)&&0!==a.indexOf("on")&&r.indexOf(" "+a+"=")===-1&&(r=r.concat(" ",a,'="',e(i[a]),'"'));r=r.concat(">")}return r})}function a(t){return v[t]}function n(){return null}function r(t){return"number"==typeof t?t+"x"+t:t}function s(t){var e="string"==typeof t?parseInt(t,16):t;return e<65536?y(e):(e-=65536,y(55296+(e>>10),56320+(1023&e)))}function l(t,e){return e&&"function"!=typeof e||(e={callback:e}),("string"==typeof t?i:c)(t,{callback:e.callback||d,attributes:"function"==typeof e.attributes?e.attributes:n,base:"string"==typeof e.base?e.base:g.base,ext:e.ext||g.ext,size:e.folder||r(e.size||g.size),className:e.className||g.className,onerror:e.onerror||g.onerror})}function f(t){var e=t.match(/<img[^>]*?moco-emoji[^>]*?>/g);if(e&&e.length)for(var d in e)if(e[d].split('alt="').length>1){var o=e[d].split('alt="')[1];o=o.split('"')[0],t=t.replace(e[d],o)}return t}function m(t,e){return String(t).replace(b,e)}function p(t){b.lastIndex=0;var e=b.test(t);return b.lastIndex=0,e}function h(t,e){for(var d=[],o=0,u=0,c=0;c<t.length;)o=t.charCodeAt(c++),u?(d.push((65536+(u-55296<<10)+(o-56320)).toString(16)),u=0):55296<=o&&o<=56319?u=o:d.push(o.toString(16));return d.join(e||"-")}var g={base:("https:"===location.protocol?"https:":"http:")+"//www.imooc.com/static/moco/v1.0/images/face/",ext:".png",size:"36x36",className:"moco-emoji",convert:{fromCodePoint:s,toCodePoint:h},onerror:function(){this.parentNode&&this.parentNode.replaceChild(t(this.alt),this)},parse:l,format:f,replace:m,test:p},v={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},b=/((?:\ud83c\udde8\ud83c\uddf3|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddf7\ud83c\uddfa|\ud83c\uddf0\ud83c\uddf7|\ud83c\uddef\ud83c\uddf5|\ud83c\uddee\ud83c\uddf9|\ud83c\uddec\ud83c\udde7|\ud83c\uddeb\ud83c\uddf7|\ud83c\uddea\ud83c\uddf8|\ud83c\udde9\ud83c\uddea|\u0039\ufe0f?\u20e3|\u0038\ufe0f?\u20e3|\u0037\ufe0f?\u20e3|\u0036\ufe0f?\u20e3|\u0035\ufe0f?\u20e3|\u0034\ufe0f?\u20e3|\u0033\ufe0f?\u20e3|\u0032\ufe0f?\u20e3|\u0031\ufe0f?\u20e3|\u0030\ufe0f?\u20e3|\u0023\ufe0f?\u20e3|\ud83d\udeb3|\ud83d\udeb1|\ud83d\udeb0|\ud83d\udeaf|\ud83d\udeae|\ud83d\udea6|\ud83d\udea3|\ud83d\udea1|\ud83d\udea0|\ud83d\ude9f|\ud83d\ude9e|\ud83d\ude9d|\ud83d\ude9c|\ud83d\ude9b|\ud83d\ude98|\ud83d\ude96|\ud83d\ude94|\ud83d\ude90|\ud83d\ude8e|\ud83d\ude8d|\ud83d\ude8b|\ud83d\ude8a|\ud83d\ude88|\ud83d\ude86|\ud83d\ude82|\ud83d\ude81|\ud83d\ude36|\ud83d\ude34|\ud83d\ude2f|\ud83d\ude2e|\ud83d\ude2c|\ud83d\ude27|\ud83d\ude26|\ud83d\ude1f|\ud83d\ude1b|\ud83d\ude19|\ud83d\ude17|\ud83d\ude15|\ud83d\ude11|\ud83d\ude10|\ud83d\ude0e|\ud83d\ude08|\ud83d\ude07|\ud83d\ude00|\ud83d\udd67|\ud83d\udd66|\ud83d\udd65|\ud83d\udd64|\ud83d\udd63|\ud83d\udd62|\ud83d\udd61|\ud83d\udd60|\ud83d\udd5f|\ud83d\udd5e|\ud83d\udd5d|\ud83d\udd5c|\ud83d\udd2d|\ud83d\udd2c|\ud83d\udd15|\ud83d\udd09|\ud83d\udd08|\ud83d\udd07|\ud83d\udd06|\ud83d\udd05|\ud83d\udd04|\ud83d\udd02|\ud83d\udd01|\ud83d\udd00|\ud83d\udcf5|\ud83d\udcef|\ud83d\udced|\ud83d\udcec|\ud83d\udcb7|\ud83d\udcb6|\ud83d\udcad|\ud83d\udc6d|\ud83d\udc6c|\ud83d\udc65|\ud83d\udc2a|\ud83d\udc16|\ud83d\udc15|\ud83d\udc13|\ud83d\udc10|\ud83d\udc0f|\ud83d\udc0b|\ud83d\udc0a|\ud83d\udc09|\ud83d\udc08|\ud83d\udc07|\ud83d\udc06|\ud83d\udc05|\ud83d\udc04|\ud83d\udc03|\ud83d\udc02|\ud83d\udc01|\ud83d\udc00|\ud83c\udfe4|\ud83c\udfc9|\ud83c\udfc7|\ud83c\udf7c|\ud83c\udf50|\ud83c\udf4b|\ud83c\udf33|\ud83c\udf32|\ud83c\udf1e|\ud83c\udf1d|\ud83c\udf1c|\ud83c\udf1a|\ud83c\udf18|\ud83c\udccf|\ud83c\udd8e|\ud83c\udd91|\ud83c\udd92|\ud83c\udd93|\ud83c\udd94|\ud83c\udd95|\ud83c\udd96|\ud83c\udd97|\ud83c\udd98|\ud83c\udd99|\ud83c\udd9a|\ud83d\udc77|\ud83d\udec5|\ud83d\udec4|\ud83d\udec3|\ud83d\udec2|\ud83d\udec1|\ud83d\udebf|\ud83d\udeb8|\ud83d\udeb7|\ud83d\udeb5|\ud83c\ude01|\ud83c\ude32|\ud83c\ude33|\ud83c\ude34|\ud83c\ude35|\ud83c\ude36|\ud83c\ude38|\ud83c\ude39|\ud83c\ude3a|\ud83c\ude50|\ud83c\ude51|\ud83c\udf00|\ud83c\udf01|\ud83c\udf02|\ud83c\udf03|\ud83c\udf04|\ud83c\udf05|\ud83c\udf06|\ud83c\udf07|\ud83c\udf08|\ud83c\udf09|\ud83c\udf0a|\ud83c\udf0b|\ud83c\udf0c|\ud83c\udf0f|\ud83c\udf11|\ud83c\udf13|\ud83c\udf14|\ud83c\udf15|\ud83c\udf19|\ud83c\udf1b|\ud83c\udf1f|\ud83c\udf20|\ud83c\udf30|\ud83c\udf31|\ud83c\udf34|\ud83c\udf35|\ud83c\udf37|\ud83c\udf38|\ud83c\udf39|\ud83c\udf3a|\ud83c\udf3b|\ud83c\udf3c|\ud83c\udf3d|\ud83c\udf3e|\ud83c\udf3f|\ud83c\udf40|\ud83c\udf41|\ud83c\udf42|\ud83c\udf43|\ud83c\udf44|\ud83c\udf45|\ud83c\udf46|\ud83c\udf47|\ud83c\udf48|\ud83c\udf49|\ud83c\udf4a|\ud83c\udf4c|\ud83c\udf4d|\ud83c\udf4e|\ud83c\udf4f|\ud83c\udf51|\ud83c\udf52|\ud83c\udf53|\ud83c\udf54|\ud83c\udf55|\ud83c\udf56|\ud83c\udf57|\ud83c\udf58|\ud83c\udf59|\ud83c\udf5a|\ud83c\udf5b|\ud83c\udf5c|\ud83c\udf5d|\ud83c\udf5e|\ud83c\udf5f|\ud83c\udf60|\ud83c\udf61|\ud83c\udf62|\ud83c\udf63|\ud83c\udf64|\ud83c\udf65|\ud83c\udf66|\ud83c\udf67|\ud83c\udf68|\ud83c\udf69|\ud83c\udf6a|\ud83c\udf6b|\ud83c\udf6c|\ud83c\udf6d|\ud83c\udf6e|\ud83c\udf6f|\ud83c\udf70|\ud83c\udf71|\ud83c\udf72|\ud83c\udf73|\ud83c\udf74|\ud83c\udf75|\ud83c\udf76|\ud83c\udf77|\ud83c\udf78|\ud83c\udf79|\ud83c\udf7a|\ud83c\udf7b|\ud83c\udf80|\ud83c\udf81|\ud83c\udf82|\ud83c\udf83|\ud83c\udf84|\ud83c\udf85|\ud83c\udf86|\ud83c\udf87|\ud83c\udf88|\ud83c\udf89|\ud83c\udf8a|\ud83c\udf8b|\ud83c\udf8c|\ud83c\udf8d|\ud83c\udf8e|\ud83c\udf8f|\ud83c\udf90|\ud83c\udf91|\ud83c\udf92|\ud83c\udf93|\ud83c\udfa0|\ud83c\udfa1|\ud83c\udfa2|\ud83c\udfa3|\ud83c\udfa4|\ud83c\udfa5|\ud83c\udfa6|\ud83c\udfa7|\ud83c\udfa8|\ud83c\udfa9|\ud83c\udfaa|\ud83c\udfab|\ud83c\udfac|\ud83c\udfad|\ud83c\udfae|\ud83c\udfaf|\ud83c\udfb0|\ud83c\udfb1|\ud83c\udfb2|\ud83c\udfb3|\ud83c\udfb4|\ud83c\udfb5|\ud83c\udfb6|\ud83c\udfb7|\ud83c\udfb8|\ud83c\udfb9|\ud83c\udfba|\ud83c\udfbb|\ud83c\udfbc|\ud83c\udfbd|\ud83c\udfbe|\ud83c\udfbf|\ud83c\udfc0|\ud83c\udfc1|\ud83c\udfc2|\ud83c\udfc3|\ud83c\udfc4|\ud83c\udfc6|\ud83c\udfc8|\ud83c\udfca|\ud83c\udfe0|\ud83c\udfe1|\ud83c\udfe2|\ud83c\udfe3|\ud83c\udfe5|\ud83c\udfe6|\ud83c\udfe7|\ud83c\udfe8|\ud83c\udfe9|\ud83c\udfea|\ud83c\udfeb|\ud83c\udfec|\ud83c\udfed|\ud83c\udfee|\ud83c\udfef|\ud83c\udff0|\ud83d\udc0c|\ud83d\udc0d|\ud83d\udc0e|\ud83d\udc11|\ud83d\udc12|\ud83d\udc14|\ud83d\udc17|\ud83d\udc18|\ud83d\udc19|\ud83d\udc1a|\ud83d\udc1b|\ud83d\udc1c|\ud83d\udc1d|\ud83d\udc1e|\ud83d\udc1f|\ud83d\udc20|\ud83d\udc21|\ud83d\udc22|\ud83d\udc23|\ud83d\udc24|\ud83d\udc25|\ud83d\udc26|\ud83d\udc27|\ud83d\udc28|\ud83d\udc29|\ud83d\udc2b|\ud83d\udc2c|\ud83d\udc2d|\ud83d\udc2e|\ud83d\udc2f|\ud83d\udc30|\ud83d\udc31|\ud83d\udc32|\ud83d\udc33|\ud83d\udc34|\ud83d\udc35|\ud83d\udc36|\ud83d\udc37|\ud83d\udc38|\ud83d\udc39|\ud83d\udc3a|\ud83d\udc3b|\ud83d\udc3c|\ud83d\udc3d|\ud83d\udc3e|\ud83d\udc40|\ud83d\udc42|\ud83d\udc43|\ud83d\udc44|\ud83d\udc45|\ud83d\udc46|\ud83d\udc47|\ud83d\udc48|\ud83d\udc49|\ud83d\udc4a|\ud83d\udc4b|\ud83d\udc4c|\ud83d\udc4d|\ud83d\udc4e|\ud83d\udc4f|\ud83d\udc50|\ud83d\udc51|\ud83d\udc52|\ud83d\udc53|\ud83d\udc54|\ud83d\udc55|\ud83d\udc56|\ud83d\udc57|\ud83d\udc58|\ud83d\udc59|\ud83d\udc5a|\ud83d\udc5b|\ud83d\udc5c|\ud83d\udc5d|\ud83d\udc5e|\ud83d\udc5f|\ud83d\udc60|\ud83d\udc61|\ud83d\udc62|\ud83d\udc63|\ud83d\udc64|\ud83d\udc66|\ud83d\udc67|\ud83d\udc68|\ud83d\udc69|\ud83d\udc6a|\ud83d\udc6b|\ud83d\udc6e|\ud83d\udc6f|\ud83d\udc70|\ud83d\udc71|\ud83d\udc72|\ud83d\udc73|\ud83d\udc74|\ud83d\udc75|\ud83d\udc76|\ud83d\udeb4|\ud83d\udc78|\ud83d\udc79|\ud83d\udc7a|\ud83d\udc7b|\ud83d\udc7c|\ud83d\udc7d|\ud83d\udc7e|\ud83d\udc7f|\ud83d\udc80|\ud83d\udc81|\ud83d\udc82|\ud83d\udc83|\ud83d\udc84|\ud83d\udc85|\ud83d\udc86|\ud83d\udc87|\ud83d\udc88|\ud83d\udc89|\ud83d\udc8a|\ud83d\udc8b|\ud83d\udc8c|\ud83d\udc8d|\ud83d\udc8e|\ud83d\udc8f|\ud83d\udc90|\ud83d\udc91|\ud83d\udc92|\ud83d\udc93|\ud83d\udc94|\ud83d\udc95|\ud83d\udc96|\ud83d\udc97|\ud83d\udc98|\ud83d\udc99|\ud83d\udc9a|\ud83d\udc9b|\ud83d\udc9c|\ud83d\udc9d|\ud83d\udc9e|\ud83d\udc9f|\ud83d\udca0|\ud83d\udca1|\ud83d\udca2|\ud83d\udca3|\ud83d\udca4|\ud83d\udca5|\ud83d\udca6|\ud83d\udca7|\ud83d\udca8|\ud83d\udca9|\ud83d\udcaa|\ud83d\udcab|\ud83d\udcac|\ud83d\udcae|\ud83d\udcaf|\ud83d\udcb0|\ud83d\udcb1|\ud83d\udcb2|\ud83d\udcb3|\ud83d\udcb4|\ud83d\udcb5|\ud83d\udcb8|\ud83d\udcb9|\ud83d\udcba|\ud83d\udcbb|\ud83d\udcbc|\ud83d\udcbd|\ud83d\udcbe|\ud83d\udcbf|\ud83d\udcc0|\ud83d\udcc1|\ud83d\udcc2|\ud83d\udcc3|\ud83d\udcc4|\ud83d\udcc5|\ud83d\udcc6|\ud83d\udcc7|\ud83d\udcc8|\ud83d\udcc9|\ud83d\udcca|\ud83d\udccb|\ud83d\udccc|\ud83d\udccd|\ud83d\udcce|\ud83d\udccf|\ud83d\udcd0|\ud83d\udcd1|\ud83d\udcd2|\ud83d\udcd3|\ud83d\udcd4|\ud83d\udcd5|\ud83d\udcd6|\ud83d\udcd7|\ud83d\udcd8|\ud83d\udcd9|\ud83d\udcda|\ud83d\udcdb|\ud83d\udcdc|\ud83d\udcdd|\ud83d\udcde|\ud83d\udcdf|\ud83d\udce0|\ud83d\udce1|\ud83d\udce2|\ud83d\udce3|\ud83d\udce4|\ud83d\udce5|\ud83d\udce6|\ud83d\udce7|\ud83d\udce8|\ud83d\udce9|\ud83d\udcea|\ud83d\udceb|\ud83d\udcee|\ud83d\udcf0|\ud83d\udcf1|\ud83d\udcf2|\ud83d\udcf3|\ud83d\udcf4|\ud83d\udcf6|\ud83d\udcf7|\ud83d\udcf9|\ud83d\udcfa|\ud83d\udcfb|\ud83d\udcfc|\ud83d\udd03|\ud83d\udd0a|\ud83d\udd0b|\ud83d\udd0c|\ud83d\udd0d|\ud83d\udd0e|\ud83d\udd0f|\ud83d\udd10|\ud83d\udd11|\ud83d\udd12|\ud83d\udd13|\ud83d\udd14|\ud83d\udd16|\ud83d\udd17|\ud83d\udd18|\ud83d\udd19|\ud83d\udd1a|\ud83d\udd1b|\ud83d\udd1c|\ud83d\udd1d|\ud83d\udd1e|\ud83d\udd1f|\ud83d\udd20|\ud83d\udd21|\ud83d\udd22|\ud83d\udd23|\ud83d\udd24|\ud83d\udd25|\ud83d\udd26|\ud83d\udd27|\ud83d\udd28|\ud83d\udd29|\ud83d\udd2a|\ud83d\udd2b|\ud83d\udd2e|\ud83d\udd2f|\ud83d\udd30|\ud83d\udd31|\ud83d\udd32|\ud83d\udd33|\ud83d\udd34|\ud83d\udd35|\ud83d\udd36|\ud83d\udd37|\ud83d\udd38|\ud83d\udd39|\ud83d\udd3a|\ud83d\udd3b|\ud83d\udd3c|\ud83d\udd3d|\ud83d\udd50|\ud83d\udd51|\ud83d\udd52|\ud83d\udd53|\ud83d\udd54|\ud83d\udd55|\ud83d\udd56|\ud83d\udd57|\ud83d\udd58|\ud83d\udd59|\ud83d\udd5a|\ud83d\udd5b|\ud83d\uddfb|\ud83d\uddfc|\ud83d\uddfd|\ud83d\uddfe|\ud83d\uddff|\ud83d\ude01|\ud83d\ude02|\ud83d\ude03|\ud83d\ude04|\ud83d\ude05|\ud83d\ude06|\ud83d\ude09|\ud83d\ude0a|\ud83d\ude0b|\ud83d\ude0c|\ud83d\ude0d|\ud83d\ude0f|\ud83d\ude12|\ud83d\ude13|\ud83d\ude14|\ud83d\ude16|\ud83d\ude18|\ud83d\ude1a|\ud83d\ude1c|\ud83d\ude1d|\ud83d\ude1e|\ud83d\ude20|\ud83d\ude21|\ud83d\ude22|\ud83d\ude23|\ud83d\ude24|\ud83d\ude25|\ud83d\ude28|\ud83d\ude29|\ud83d\ude2a|\ud83d\ude2b|\ud83d\ude2d|\ud83d\ude30|\ud83d\ude31|\ud83d\ude32|\ud83d\ude33|\ud83d\ude35|\ud83d\ude37|\ud83d\ude38|\ud83d\ude39|\ud83d\ude3a|\ud83d\ude3b|\ud83d\ude3c|\ud83d\ude3d|\ud83d\ude3e|\ud83d\ude3f|\ud83d\ude40|\ud83d\ude45|\ud83d\ude46|\ud83d\ude47|\ud83d\ude48|\ud83d\ude49|\ud83d\ude4a|\ud83d\ude4b|\ud83d\ude4c|\ud83d\ude4d|\ud83d\ude4e|\ud83d\ude4f|\ud83d\ude80|\ud83d\ude83|\ud83d\ude84|\ud83d\ude85|\ud83d\ude87|\ud83d\ude89|\ud83d\ude8c|\ud83d\ude8f|\ud83d\ude91|\ud83d\ude92|\ud83d\ude93|\ud83d\ude95|\ud83d\ude97|\ud83d\ude99|\ud83d\ude9a|\ud83d\udea2|\ud83d\udea4|\ud83d\udea5|\ud83d\udea7|\ud83d\udea8|\ud83d\udea9|\ud83d\udeaa|\ud83d\udeab|\ud83d\udeac|\ud83d\udead|\ud83d\udeb2|\ud83d\udeb6|\ud83d\udeb9|\ud83d\udeba|\ud83d\udebb|\ud83d\udebc|\ud83d\udebd|\ud83d\udebe|\ud83d\udec0|\ud83c\udde6|\ud83c\udde7|\ud83c\udde8|\ud83c\udde9|\ud83c\uddea|\ud83c\uddeb|\ud83c\uddec|\ud83c\udded|\ud83c\uddee|\ud83c\uddef|\ud83c\uddf0|\ud83c\uddf1|\ud83c\uddf2|\ud83c\uddf3|\ud83c\uddf4|\ud83c\uddf5|\ud83c\uddf6|\ud83c\uddf7|\ud83c\uddf8|\ud83c\uddf9|\ud83c\uddfa|\ud83c\uddfb|\ud83c\uddfc|\ud83c\uddfd|\ud83c\uddfe|\ud83c\uddff|\ud83c\udf0d|\ud83c\udf0e|\ud83c\udf10|\ud83c\udf12|\ud83c\udf16|\ud83c\udf17|\ue50a|\u27b0|\u2797|\u2796|\u2795|\u2755|\u2754|\u2753|\u274e|\u274c|\u2728|\u270b|\u270a|\u2705|\u26ce|\u23f3|\u23f0|\u23ec|\u23eb|\u23ea|\u23e9|\u27bf|\u00a9|\u00ae)|(?:(?:\ud83c\udc04|\ud83c\udd70|\ud83c\udd71|\ud83c\udd7e|\ud83c\udd7f|\ud83c\ude02|\ud83c\ude1a|\ud83c\ude2f|\ud83c\ude37|\u3299|\u303d|\u3030|\u2b55|\u2b50|\u2b1c|\u2b1b|\u2b07|\u2b06|\u2b05|\u2935|\u2934|\u27a1|\u2764|\u2757|\u2747|\u2744|\u2734|\u2733|\u2716|\u2714|\u2712|\u270f|\u270c|\u2709|\u2708|\u2702|\u26fd|\u26fa|\u26f5|\u26f3|\u26f2|\u26ea|\u26d4|\u26c5|\u26c4|\u26be|\u26bd|\u26ab|\u26aa|\u26a1|\u26a0|\u2693|\u267f|\u267b|\u3297|\u2666|\u2665|\u2663|\u2660|\u2653|\u2652|\u2651|\u2650|\u264f|\u264e|\u264d|\u264c|\u264b|\u264a|\u2649|\u2648|\u263a|\u261d|\u2615|\u2614|\u2611|\u260e|\u2601|\u2600|\u25fe|\u25fd|\u25fc|\u25fb|\u25c0|\u25b6|\u25ab|\u25aa|\u24c2|\u231b|\u231a|\u21aa|\u21a9|\u2199|\u2198|\u2197|\u2196|\u2195|\u2194|\u2139|\u2122|\u2049|\u203c|\u2668)([\uFE0E\uFE0F]?)))/g,w=/[&<>'"]/g,x=/IFRAME|NOFRAMES|NOSCRIPT|SCRIPT|SELECT|STYLE|TEXTAREA|[a-z]/,y=String.fromCharCode;return g}();twemoji&&twemoji.parse(document.body),!function(){function t(t){this.position={},this.hashow=!1,this.forword="top",this.timer=null,this.initialize(),this._bindEvent(),this.forceForword=!1,this.mocoUsercardDialog=$(".moco-usercard-dialog")}t.prototype={initialize:function(){$("body").append("<div class='moco-usercard-dialog js-moco-usercard-modal'></div>")},render:function(t){this.mocoUsercardDialog.empty(),this.mocoUsercardDialog.append(t.domtext),this.mocoUsercardDialog.show();var e=($(document).scrollTop(),$(window).height(),this.position.top-$(document).scrollTop()),d=($(document).scrollLeft(),$(window).width(),this.position.left-$(document).scrollLeft());this.forceForword?this.forword=this.forceForword:e<t.height?d>t.width&&e>t.height/2?this.forword="right":this.forword="bottom":this.forword="top","top"==this.forword&&(this.mocoUsercardDialog.css("top",this.position.top-t.height-20),this.mocoUsercardDialog.css("left",this.position.left-t.width/2+t.headWidth/2)),"bottom"==this.forword&&(this.mocoUsercardDialog.css("top",this.position.top+t.headHeight+20),this.mocoUsercardDialog.css("left",this.position.left-t.width/2+t.headWidth/2)),"right"==this.forword&&(this.mocoUsercardDialog.css("top",this.position.top-t.height/2),this.mocoUsercardDialog.css("left",this.position.left+t.headWidth+20)),"left"==this.forword&&(this.mocoUsercardDialog.css("top",this.position.top-t.height/2),this.mocoUsercardDialog.css("left",this.position.left-t.width-20)),this.mocoUsercardDialog.css("width",t.width),this.mocoUsercardDialog.css("height",t.height),this.hashow=!0,this.forceForword=!1},culPosition:function(t){this.position.top=t.top,this.position.left=t.left},show:function(t,e){this.hashow||(this.culPosition($(t.currentTarget).offset()),this.render(e))},hide:function(){$("body").find(".moco-usercard-dialog").hide(),this.hashow=!1},setForceForword:function(t){this.forceForword=t},_bindEvent:function(){var t=this;$(document).delegate(".js-moco-usercard-modal","mouseover",function(e){clearTimeout(t.timer)}),$(document).delegate(".js-moco-usercard-modal","mouseleave",function(e){t.hide()})}},window.usersInfoCache=[];var e=this,d="",o=!1,u=!1;this.usercardDialogDom=function(t){var e={dialogbk:"user_dialogbk",signature:"",is_follows:"关注Ta",icon:"icon-group_add",roleText:"",detailNum:"",sexClass:"",cssClass:"moco-usercard-mc-btn-success js-usercard-add-attention",_funsDom:'<a href="/u/'+t.uid+'/fans">\t\t\t\t\t\t\t<div class="moco-usercard-detail-right bold">粉丝\t\t\t\t\t\t\t\t<span>'+t.fans_num+"</span>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</a>"},d=$.extend(e,d);d.signature=t.sign,d.detailNum='<a href="/u/'+t.uid+'/follows">\t\t\t\t\t\t\t\t<div class="moco-usercard-detail-left bold">关注\t\t\t\t\t\t\t\t\t<span>'+t.follows_num+"</span>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</a>\t\t\t\t\t\t\t\t"+d._funsDom,2==t.user_type?(d.dialogbk="teacher_dialogbk",d.roleText+='<span class="moco-usercard-signicon moco-usercard-teacher"></span>',d.detailNum='<a href="/u/'+t.uid+'/courses?sort=publish">\t\t\t\t\t\t\t\t\t<div class="moco-usercard-detail-left bold">课程\t\t\t\t\t\t\t\t\t\t<span>'+t.course_num+"</span>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</a>\t\t\t\t\t\t\t\t"+d._funsDom,d.signature=t.aboutme,1==t.is_author&&(d.roleText+='<span class="moco-usercard-signicon moco-usercard-author"></span>'),1==t.is_mustar&&(d.roleText+='<span class="moco-usercard-signicon moco-usercard-mxr"></span>')):(1==t.is_author&&(d.dialogbk="author_dialogbk",d.roleText+='<span class="moco-usercard-signicon moco-usercard-author"></span>',d.detailNum='<a href="/u/'+t.uid+'/articles">\t\t\t\t\t\t\t\t\t\t<div class="moco-usercard-detail-left bold">手记\t\t\t\t\t\t\t\t\t\t\t<span>'+t.article_num+'</span>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t</a>\t\t\t\t\t\t\t\t\t<a href="/u/'+t.uid+'/articles?type=praise">\t\t\t\t\t\t\t\t\t\t<div class="moco-usercard-detail-right bold">推荐\t\t\t\t\t\t\t\t\t\t\t<span class="ml10">'+t.article_recommend_num+"</span>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t</a>"),1==t.is_mustar&&(d.roleText+='<span class="moco-usercard-signicon moco-usercard-mxr"></span>'),1e4==t.uid&&(d.detailNum='<a href="javascript:void(0);">\t\t\t\t\t\t\t\t\t\t<div class="moco-usercard-detail-left bold">关注\t\t\t\t\t\t\t\t\t\t\t<span class="ml10">'+t.follows_num+"</span>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t</a>\t\t\t\t\t\t\t\t\t"+d._funsDom)),2==t.sex?d.sexClass="moco-usercard-girl":1==t.sex?d.sexClass="moco-usercard-boy":d.sexClass="moco-usercard-secret",1==t.is_follows&&(d.is_follows="发消息",d.icon="icon-mail",d.cssClass="moco-usercard-mc-btn-primary js-usercard-send-message"),""==d.signature?d.signature="这位同学很懒，木有签名的说～":d.signature.length>45&&(d.signature=d.signature.slice(0,45)+"...");var o='<div class="moco-usercard-headialog js-usercard-headialog" style="background: url(/static/img/u/'+d.dialogbk+'.png) no-repeat 0 0;">\t\t\t\t\t\t<a href="/u/'+t.uid+'" target="_blank">\t\t\t\t\t\t\t<img src="http://img.mukewang.com/'+t.portrait+'-40-40.jpg" class="moco-usercard-head" width="40" height="40">\t\t\t\t\t\t</a>\t\t\t\t\t\t<p class="fs16 bold mt0">\t\t\t\t\t\t\t<a href="/u/'+t.uid+'" target="_blank"><span>'+t.nickname+"</span> </a>"+d.roleText+'</p>\t\t\t\t\t\t<p class="fs12 moco-usercard-job-title">\t\t\t\t\t\t\t<span class="moco-usercard-gender mr10 '+d.sexClass+'"></span>\t\t\t\t\t\t\t'+t.job_title+'\t\t\t\t\t\t</p>\t\t\t\t\t\t<p class="fs12 moco-usercard-signature">'+d.signature+"</p>\t\t\t\t\t\t<div> "+d.detailNum+'</div>\t\t\t\t\t\t<span class="moco-usercard-mc-btn '+d.cssClass+' pl30 pr30 mt20 " dataid='+t.uid+'>\t\t\t\t\t\t\t<i class="'+d.icon+' moco-usercard-btn-icon"> </i>'+d.is_follows+' \t\t\t\t\t\t</span>\t\t\t\t\t\t<p class="moco-usercard-add-attention-error"></p>\t\t\t\t\t</div>';return o},$(".js-usercard-box").delegate(".js-usercard-dialog","mouseover",function(c){var i=$(this),a=i.data("userid");location.hostname.indexOf("10.96.141.76")==-1&&0!=isLogin&&OP_CONFIG.userInfo.uid==a||(d||(d=new t),u=!1,setTimeout(function(){if(!u){var t=i.width(),n=i.height();if(void 0===usersInfoCache[a]){if(location.hostname.indexOf("10.96.141.76")!=-1){var r={uid:1e4,nickname:"慕女神",portrait:"57a322f00001e4ae02560256",sign:"各位亲，我真不是机器人，好伐",aboutme:"2048源代码征集活动火爆进行中，欢迎大家参加！",user_type:"2",sex:"2",job_title:"全栈工程师",is_follows:1,is_fans:1,follows_num:99,fans_num:9999999,is_mustar:0,is_author:1,course_num:0,article_num:"10",article_recommend_num:"16",mp:"631",credit:"22",n_learn:"38小时47分钟"};usersInfoCache[a]=r;var s=e.usercardDialogDom(r),l=$(".js-usercard-headialog");return l.css("background","url(images/teacher_dialogbk.png)"),l.find(".moco-usercard-head").attr("src","images/imoocGril.jpg"),l.find(".moco-usercard-teacher").css("background","url(images/user-info-icon-little.png) 0 -18px"),l.find(".moco-usercard-author").css("background","url(images/user-info-icon-little.png) 0 -40px"),l.find(".moco-usercard-girl").css("background","url(images/gender.png) 0 -16px"),void d.show(c,{width:340,height:308,domtext:s,headWidth:t,headHeight:n})}o||(o=!0,$.ajax({type:"GET",url:"/u/gethoveruser?uid="+a,dataType:"json",success:function(o){if(1==o.result){usersInfoCache[a]=o.data;var u=e.usercardDialogDom(o.data);d.show(c,{width:340,height:308,domtext:u,headWidth:t,headHeight:n})}},complete:function(){o=!1}}))}else{var s=e.usercardDialogDom(usersInfoCache[a]);d.show(c,{width:340,height:308,domtext:s,headWidth:t,headHeight:n})}}},200))}),$(document).on("click",".js-usercard-send-message",function(t){if($(".moco-usercard-add-attention-error").text(""),OP_CONFIG.userInfo){var e=$(t.currentTarget).attr("dataid");window.open("/u/"+OP_CONFIG.userInfo.uid+"/messages?uid="+e)}else seajs.use("login_sns",function(t){t.init()})}),$(document).on("click",".js-usercard-add-attention",function(t){if($(".moco-usercard-add-attention-error").text(""),OP_CONFIG.userInfo){var e=$(t.currentTarget).attr("dataid");$.ajax({type:"POST",url:"/u/"+OP_CONFIG.userInfo.uid+"/ajaxfollows?uid="+e+"x&type=1",dataType:"json",success:function(t){1101==t.result&&($(".js-usercard-add-attention").html('<i class="icon-mail moco-usercard-btn-icon"> </i>发消息'),$(".js-usercard-add-attention").removeClass("moco-usercard-mc-btn-success js-usercard-add-attention").addClass(" moco-usercard-mc-btn-primary js-usercard-send-message")),1103==t.result&&$(".moco-usercard-add-attention-error").text("已经是好友"),1100==t.result&&$(".moco-usercard-add-attention-error").text("关注失败"),usersInfoCache[e].is_follows=1},error:function(t){$(".moco-usercard-add-attention-error").html("服务错误，稍后重试")},complete:function(){}})}else seajs.use("login_sns",function(t){t.init()})}),$(".js-usercard-box").delegate(".js-usercard-dialog","mouseleave",function(t){d.timer=setTimeout(function(){d.hide()},500),u=!0})}(),!function(t,e){moco.validateCallback={},W={},W.ValidaterClass=function(){this.validateRules={"require-word":{type:"regex",extract:"value",regex:/^[^._$]+$/g,errorHint:'格式不正确，请输入除".","_"和"$"以外的字符'},"require-letter":{type:"regex",extract:"value",regex:/^[a-zA-Z0-9_]+$/g,errorHint:"格式不正确，请输入字母、数字、下划线"},"require-int":{type:"regex",extract:"value",regex:/^-?\d+$/g,errorHint:"格式不正确，请输入整数"},"require-positive-int":{type:"regex",extract:"value",regex:/^[1-9][0-9]*$/g,errorHint:"格式不正确，请输入正整数"},"require-nonnegative":{type:"regex",extract:"value",regex:/^\d+$/g,errorHint:"请输入非负整数"},"require-float":{type:"regex",extract:"value",regex:/^\d{1,5}(\.\d{1,2})?$/g,errorHint:"格式不正确，请输入'3.14'或'5'这样的数字"},"require-float-three":{type:"regex",extract:"value",regex:/^\d{1,5}(\.\d{1,3})?$/g,errorHint:"格式不正确，请输入'3.147'或'5'这样的数字"},"require-float-one":{type:"regex",extract:"value",regex:/^\d{1,5}(\.\d{0,1})?$/g,errorHint:"格式不正确，请输入'3.147'或'5'这样的数字"},"require-price":{type:"regex",extract:"value",regex:/^\d+(\.\d{0,2})?$/g,errorHint:"价格不正确，请输入0-999999999之间的价格"},"require-date":{type:"regex",extract:"value",regex:/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/g,errorHint:"输入格式为2013-01-01的日期"},"require-percent":{type:"regex",extract:"value",regex:/^([1-9]|[1-9]\d|100)$/g,errorHint:"格式不正确，请输入1-100的整数"},"require-tel-phone":{type:"regex",extract:"value",regex:/^(([0\+]\d{2,3}-)?(0\d{2,3})-)?(\d{7,8})(-(\d{3,}))?$/g,errorHint:"输入的电话号码有错误。区号和电话号码之间请用-分割"},"require-email":{type:"regex",extract:"value",regex:/^[a-zA-Z0-9]+([._\-]*[a-zA-Z0-9]+)*@([a-zA-Z0-9]+([._\-][a-zA-Z0-9]+))+$/,errorHint:"邮箱格式错误"},"require-mobile-phone":{type:"regex",extract:"value",regex:/^(13[0-9]|14[56789]|15[012356789]|16[6]|17[0-9]|18[0-9]|19[189])[0-9]{8}$/g,errorHint:"手机号格式错误"
},"require-password":{type:"regex",extract:"value",regex:/^[\w~`!@#$%&*.,()_+<>?:"'+*\/\-\^\\\][{}]{6,16}$/,errorHint:"请输入6-16位密码，区分大小写，不能使用空格！"},"require-nick":{type:"regex",extract:"value",regex:/^[\w\u4E00-\u9FA5]{2,18}$/,errorHint:"昵称2-18位中英文、数字及下划线！"},"require-notempty":{type:"function",extract:"element",check:function(e){var d=t.trim(e.val());return 0!=d.length||(this.errorHint="内容不能为空",!1)},errorHint:""},"require-element-exist":{type:"function",extract:"element",check:function(t){var e=t.data("selector");return t.find(e).length>0}},"require-string":{type:"function",extract:"element",check:function(e){var d=t.trim(e.val());"true"==e.attr("contenteditable")&&(d=e.attr("value"));var o=e.data("minlength")||e.data("min-length")||1,u=e.data("maxlength")||e.data("max-length")||9999999,c=d.length;return!(c<o||c>u)||(9999999==u?this.errorHint="输入值长度必须大于等于"+o:this.errorHint="请输入长度在"+o+"到"+u+"之间的字符串",!1)},errorHint:""},"require-select":{type:"function",extract:"value",check:function(e){var d=t.trim(e);return 0!=d.length&&"-1"!==d},errorHint:"请选择一个选项"},"require-select-positive-option":{type:"function",extract:"value",check:function(t){var t=parseInt(t);return!(t<0)},errorHint:"请选择一个选项"},"require-custom-function":{type:"function",extract:"element",check:function(t){var e=t.attr("data-validate-function"),d=window[e](t);return this.errorHint=d.errorHint,d.isValidate||this.errorHint||(this.errorHint="请在data-validate-function函数中返回errorHint"),d.isValidate}},"require-file":{type:"function",extract:"value",check:function(t){return 0!=t.length},errorHint:"请选择一份文件"},"require-length":{type:"function",extract:"element",check:function(e){var d=t.trim(e.val());"true"==e.attr("contenteditable")&&(d=e.attr("value"));var o=parseInt(e.attr("strlength"))||parseInt(e.attr("str-length")),u=d.length;return u===o||(this.errorHint="请输入长度为"+o+"的字符串",!1)},errorHint:""}},this.getRule=function(t){return this.validateRules[t]}},W.Validater=new W.ValidaterClass,W.validate=function(e,d){var o=[];e?e.attr("data-validate")?o.push(e):o.push(e.find("[data-validate]")):o.push(t("[data-validate]"));for(var u=!1,c=o.length,i=null,a=0;a<c;++a){var n=o[a];n.each(function(){var e=t(this);if(!(e.is(":visible")&&"hidden"!=e.css("visibility")||e.data("forceValidate")))return void W.validate.toggleErrorHint(e,!0);var d=e.val(),o=e.attr("data-validate");if(o)for(var c=o.split(",,"),a=c.length,n=0;n<a;++n){var r=t.trim(c[n]);if("norequire"==r&&0==d.length){W.validate.toggleErrorHint(e,!0);break}var s=r.split("::"),l=null,f=null,m=null;2===s.length?(l=s[0],m=s[1]):l=s[0];var p=l.indexOf("(");p!==-1&&(s=l.split("("),l=s[0],f=s[1].substring(0,s[1].length-1).split(","));var h=W.Validater.getRule(l);if(h)if("function"===h.type){var g=d,v=e;if("element"==h.extract&&(g=e),!h.check.call(h,g,f))return u=!0,i=m?m:h.errorHint,W.validate.toggleErrorHint(v,!1,i),!0;var b=e.attr("data-callback");if(b&&moco.validateCallback&&moco.validateCallback[b]){var w=e.val();if(moco.validateCallback.errorHint="",moco.validateCallback[b](w),!moco.validateCallback.rel)return u=!0,W.validate.toggleErrorHint(v,!1,moco.validateCallback.errorHint,!0),!0;W.validate.toggleErrorHint(v,!0),u=!1}else u=!1,W.validate.toggleErrorHint(v,!0)}else if("regex"===h.type){var v=e;if(!d.match(h.regex))return u=!0,i=m?m:h.errorHint,W.validate.toggleErrorHint(v,!1,i),!0;var b=e.attr("data-callback");if(b&&moco.validateCallback&&moco.validateCallback[b]){var w=e.val();if(moco.validateCallback.errorHint="",moco.validateCallback[b](w),!moco.validateCallback.rel)return u=!0,W.validate.toggleErrorHint(v,!1,moco.validateCallback.errorHint,!0),!0;W.validate.toggleErrorHint(v,!0),u=!1}else u=!1,W.validate.toggleErrorHint(v,!0);if(u)return!1}}})}return!u},W.validate.toggleErrorHint=function(d,o,u,c){if(d){var i=d.siblings(".errorHint");if(0==i.length){var a=d.parent();i=a.find(".errorHint")}if(0==i.length&&(i=d.parents(".xa-errorHintContainer").find(".errorHint")),0==i.length&&(i=d.parents(".x-errorHintContainer").find(".errorHint")),0==i.length){var n=d.data("errorHintTarget");n&&(i=t(n))}if(i.length>0)if(o)i.html("");else{var r=i.data("errorHint");c||r&&(u=r),i.html(u).show()}o||d.attr("errorhint-value")==e||d.attr("errorhint-value",u);var s=d.parent(),l="input"===d.get(0).tagName.toLowerCase();l&&(o?s.removeClass("has-error"):s.addClass("has-error"))}},t(document).delegate("input[data-validate]","blur",function(e){W.validate(t(e.currentTarget).parent())})}(jQuery);